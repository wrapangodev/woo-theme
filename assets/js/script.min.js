"use strict";!function(t){t((function(){t(document.body).on("click",".filter-toggle",(function(){if(0==t(".filter-content").children(".overlay").length){var e=document.createElement("div");t(e).addClass("overlay"),t(".filter-content").append(e)}if(0==t(".filter-content").children(".filter-close").length){var a=document.createElement("div");t(a).addClass("filter-close"),t(".filter-content").append(a)}t(".filter-content").hasClass("active")?t(".filter-content").removeClass("active"):t(".filter-content").addClass("active")})),t(document.body).on("click",".filter-content .overlay, .filter-content .filter-close",(function(){t(".filter-content").removeClass("active")})),t("#customer_login").each((function(){var e=t(this).find("h2").get(),a=document.createElement("ul");t(a).addClass("customer_login_toggle"),e.forEach((function(e){var o=document.createElement("li");t(o).html("<h4>"+t(e).text()+"</h4>"),t(a).append(o)})),t(this).prepend(a)})),t("#customer_login").find("li").each((function(e){var a=t("#customer_login").find("li"),o=t("#customer_login").find(">div");t(a[0]).add(t(o[0])).addClass("active"),t(this).on("click",(function(){o.removeClass("active"),t(o[e]).addClass("active"),a.removeClass("active"),t(this).addClass("active")}))})),t.fn.insertQtyButtons=function(){t(this).each((function(){t(this).wrap('<div class="qty-container"></div>'),t(this).parent(".qty-container").append('<button class="qty-minus">-</button><button class="qty-plus">+</button>')}))},t("form .qty").insertQtyButtons(),t(document.body).on("updated_checkout",(function(){0==t('input[name="coupon_code"]').length&&t.ajax({type:"POST",url:wc_checkout_params.wc_ajax_url.toString().replace("%%endpoint%%","checkout_coupon"),data:{},success:function(e){console.log("res",e),t('<tr class="boostifytheme_checkout_coupon_field"><td>'+e+"</td></tr>").insertBefore(".woocommerce-checkout-review-order-table .order-total")},dataType:"html"})})),t(document.body).on("click",".coupon_submit",(function(e){e.preventDefault();var a=t(this).closest(".boostifytheme_checkout_coupon"),o={security:wc_checkout_params.apply_coupon_nonce,coupon_code:t(this).siblings('input[name="coupon_code"]').val()};t.ajax({type:"POST",url:wc_checkout_params.wc_ajax_url.toString().replace("%%endpoint%%","apply_coupon"),data:o,success:function(e){e&&(a.before(e),t(document.body).trigger("update_checkout",{update_shipping_method:!1}))},dataType:"html"})})),t(document.body).on("click",".qty-plus, .qty-minus",(function(e){e.preventDefault();var a=t(this).closest(".qty-container").find(".qty"),o=parseFloat(a.val()),c=parseFloat(a.attr("max")),n=parseFloat(a.attr("min")),i=a.attr("step");o&&""!==o&&"NaN"!==o||(o=0),""!==c&&"NaN"!==c||(c=""),""!==n&&"NaN"!==n||(n=0),"any"!==i&&""!==i&&void 0!==i&&"NaN"!==parseFloat(i)||(i=1),t(this).is(".qty-plus")?c&&(c==o||o>c)?a.val(c):a.val(o+parseFloat(i)):n&&(n==o||o<n)?a.val(n):o>0&&a.val(o-parseFloat(i)),a.trigger("change")})),t.boostifytheme_woocommerce_tabs={hideDefaultTabs:function(t){t.find(">ul").hide()},activePanel:function(e,a){var o=e.find(".panel"),c=e.find(".panel-title");t(c[a]).addClass("active"),t(o[a]).addClass("active")},panelToggle:function(e){var a=e.find(".panel"),o=e.find(".panel-title");this.activePanel(e,"0"),o.find("a").on("click",(function(c){c.preventDefault();var n=t(this).attr("href").substr(1),i=e.find("#"+n);t(this).parent().hasClass("active")?t(this).parent().removeClass("active"):(o.removeClass("active"),t(this).parent().addClass("active")),i.hasClass("active")?(i.removeClass("active"),i.slideUp(200)):(a.removeClass("active"),i.addClass("active"),a.slideUp(200),i.slideDown(200))}))},generatePanelTitle:function(e){e.find(">ul li").each((function(){var a=t(this),o=a.find("a").attr("href").substr(1),c=e.find("#"+o),n='<div class="panel-title '+a.attr("class").split(/\s+/)[0]+'">'+a.html()+"</div>";c&&t(n).insertBefore(c)}))}},t(".woocommerce-tabs").each((function(){var e=t(this);window.innerWidth<782&&(t.boostifytheme_woocommerce_tabs.hideDefaultTabs(e),t.boostifytheme_woocommerce_tabs.generatePanelTitle(e),t.boostifytheme_woocommerce_tabs.panelToggle(e))})),t(document.body).on("click",".wc-block-product-search form",(function(e){var a=t(this).closest(".wc-block-product-search");e.target==this&&(a.hasClass("active")?a.removeClass("active"):a.addClass("active"))})),t(document.body).on("click",".wp-block-template-part form.wp-block-search",(function(e){var a=t(this);a.find(".wp-block-search__inside-wrapper");e.target==this&&(a.hasClass("active")?a.removeClass("active"):a.addClass("active"))})),t(document.body).on("click",(function(e){var a=t(".wc-block-product-search");a.is(e.target)||0!==a.has(e.target).length||a.removeClass("active")})),t(document.body).on("click",(function(e){var a=t(".wp-block-template-part form.wp-block-search");a.is(e.target)||0!==a.has(e.target).length||a.removeClass("active")})),t(".wp-block-video").each((function(){t(this).append('<button class="wp-block-video__play-icon"><img src="'+cozynest_script.imgdir+'/video-play.png"></button>')})),t(document.body).on("click",".wp-block-video__play-icon",(function(){var e=t(this),a=e.closest(".wp-block-video");e.siblings("video").get(0).play(),a.addClass("play-initialized")})),t(document.body).on("wc_fragments_refreshed",(function(){window.location.href.indexOf("add-to-cart")>-1&&t(".wc-block-components-drawer__screen-overlay--is-hidden").length>0&&t(".wc-block-mini-cart__button").trigger("click")}))}))}(jQuery);